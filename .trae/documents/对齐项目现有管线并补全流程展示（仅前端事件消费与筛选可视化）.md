## 我看到的真实代码
- 入口：`frontend/src/App.jsx:39-116` 发起分析并按事件打印日志；阶段变量 `phase` 定义在 `App.jsx:59`，但未在 `switch` 中推进，左侧阶段一直是 `init`。
- 编排：`frontend/src/lib/orchestrator.js:3-37` 百度检索→`filter`（关键词命中+黑名单）→`fetch`（Worker 抓正文）→豆包生成；事件包含 `baidu_search_*`、`filter`、`fetch`、`final`，并已在部分位置发 `phase_change`、`filter_rejects/detail`、`fetch_item_ok/fail`。
- 百度解析：`frontend/src/lib/baidu.js:23-46` 只取 `data.references`，屏蔽域名；摘要由豆包生成。
- Worker：`workers/worker.js:17-90` `/api/chat` 路由百度（`/v2/ai_search/web_search`）和豆包；`workers/worker.js:92-110` 有 `/api/fetch` 抓正文。

## 为何像“搜完就总结”
- 严格筛选导致 `accepted=0`：`orchestrator.js:24-31` 标题需包含查询词且排黑名单，很多主题（如 banana2）在标题不出现关键词，全部被驳回→抓取0→材料0→豆包直出。
- 前端未消费细节事件：`App.jsx:62-108` 只打印 `filter`/`fetch` 总数，没有打印 `filter_rejects/detail` 和 `fetch_item_ok/fail`；阶段 `phase` 未推进，观感更像“直接总结”。

## 改动目标（不改核心功能）
- 仅在前端补全事件消费与阶段推进，让日志显示完整“检索→筛选→抓取→总结”过程。
- 保持“百度检索→豆包生成”主逻辑与 Worker 转发不变。

## 具体修改（仅前端）
1) `frontend/src/App.jsx`
- 在 `switch(ev.type)` 增加：
  - `phase_change`：更新 `phase` 并打印 `阶段：old → new`
  - `filter_rejects` 与 `filter_detail`：打印被驳回数量、通过/驳回统计
  - `fetch_item_ok` 与 `fetch_item_fail`：逐条打印抓取成功/失败及标题
- 不改现有事件与主流程触发。

2) 可选增强（不改核心）
- 若严格命中为 0，在编排侧仅记录 `filter_fallback` 事件用于日志提示（保留若干高质量参考），不改变筛选结果集合结构，避免影响你的后续逻辑。该项如你不需要，可不加。

## 验证
- 本地与 Pages 运行同一主题，日志应按序显示：`baidu_search_start/ok` → `phase_change: init→filter` + `filter/detail/rejects` → `phase_change: filter→fetch` + `fetch_item_ok/fail` → `phase_change: fetch→llm` → `final`。
- 当材料=0时，仍直出豆包，但日志能看见“为何为空”。

## 不变的内容
- Worker 路由与 Secrets、不改 `/api/chat` 与 `/api/fetch`；不改“百度解析 references、豆包生成报告”的核心行为。

确认后我只改前端事件消费代码，不触碰你的业务核心。